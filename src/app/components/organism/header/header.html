<div class="card">
  <p-toolbar>
    <ng-template #start>
      <div class="menu desktop-menu">
        <img
          src="/Logo-Transparente.png"
          alt=""
          (click)="scrollToTop()"
          style="cursor: pointer"
        />
        <button
          type="button"
          class="custom-header-button"
          (click)="scrollToSection('hero')"
        >
          <span>INÍCIO</span>
        </button>
        <button
          type="button"
          class="custom-header-button"
          (click)="scrollToSection('features')"
        >
          <span>RECURSOS</span>
        </button>
        <button
          type="button"
          class="custom-header-button"
          (click)="scrollToSection('footer')"
        >
          <span>CONTATO</span>
        </button>
      </div>

      <!-- Mobile Logo -->
      <div class="mobile-logo">
        <img
          src="/Logo-Transparente.png"
          alt=""
          (click)="scrollToTop()"
          style="cursor: pointer"
        />
      </div>
    </ng-template>

    <ng-template #end>
      <!-- Desktop Actions - Usuário NÃO autenticado -->
      <div
        class="desktop-actions flex items-center gap-2 justify-center"
        *ngIf="!isAuthenticated()"
      >
        <button type="button" class="custom-header-button" routerLink="/signup">
          <span>CADASTRAR</span>
        </button>
        <button type="button" class="custom-header-button" routerLink="/login">
          <span>ENTRAR</span>
        </button>
      </div>

      <!-- Desktop Actions - Usuário autenticado -->
      <div
        class="desktop-actions flex items-center gap-3 justify-center"
        *ngIf="isAuthenticated()"
      >
        <button
          type="button"
          class="custom-header-button"
          routerLink="/player-selection"
        >
          <span>CRIAR JOGADOR</span>
        </button>

        <div class="user-profile-section">

          <app-user-avatar
            [username]="currentUser()?.username || 'Usuario'"
            [clickable]="true"
          >
          </app-user-avatar>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <div class="mobile-menu-button">
        <button
          class="hamburger-btn"
          (click)="toggleMobileMenu()"
          [class.active]="isMobileMenuOpen"
        >
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </div>
    </ng-template>
  </p-toolbar>

  <!-- Mobile Menu Overlay -->
  <div
    class="mobile-menu-overlay"
    [class.active]="isMobileMenuOpen"
    (click)="closeMobileMenu()"
  >
    <div class="mobile-menu-content" (click)="$event.stopPropagation()">
      <div class="mobile-menu-header">
        <img
          src="/Logo-Transparente.png"
          alt="Urban Soccer"
          class="mobile-menu-logo"
        />
        <button class="mobile-close-btn" (click)="closeMobileMenu()">
          <i class="pi pi-times"></i>
        </button>
      </div>
<!-- Mobile Actions - Usuário autenticado -->
        <div *ngIf="isAuthenticated()">
          <div>
            <div class="mobile-user-profile">
              <app-user-avatar
                [username]="currentUser()?.username || 'Usuario'"
                 [clickable]="true"
                size="large"
              >
              </app-user-avatar>
              <div class="mobile-user-info">
                <span class="mobile-username">{{
                  currentUser()?.username || "Usuario"
                }}</span>
                <span class="mobile-email">{{ currentUser()?.email }}</span>
              </div>
            </div>

          <div class="mobile-menu-nav">
            <button
              type="button"
              class="custom-header-button mobile-nav-btn"
              routerLink="/player-selection"
              (click)="closeMobileMenu()"
            >
              <span>CRIAR JOGADOR</span>
            </button>
            <button
              type="button"
              class="custom-header-button mobile-nav-btn"
              (click)="logout()"
            >
              <span>SAIR</span>
            </button>
          </div>
        </div>
      <div class="mobile-menu-nav">
        <button
          type="button"
          class="custom-header-button mobile-nav-btn"
          (click)="navigateAndClose('hero')"
        >
          <span>INÍCIO</span>
        </button>
        <button
          type="button"
          class="custom-header-button mobile-nav-btn"
          (click)="navigateAndClose('features')"
        >
          <span>RECURSOS</span>
        </button>
        <button
          type="button"
          class="custom-header-button mobile-nav-btn"
          (click)="navigateAndClose('footer')"
        >
          <span>CONTATO</span>
        </button>
      </div>

      <div class="mobile-menu-actions">
        <!-- Mobile Actions - Usuário NÃO autenticado -->
        <div *ngIf="!isAuthenticated()">
          <button
            type="button"
            class="custom-header-button mobile-action-btn"
            routerLink="/signup"
            (click)="closeMobileMenu()"
          >
            <span>CADASTRAR</span>
          </button>
          <button
            type="button"
            class="custom-header-button mobile-action-btn"
            routerLink="/login"
            (click)="closeMobileMenu()"
          >
            <span>ENTRAR</span>
          </button>
        </div>


      </div>
    </div>
  </div>
</div>
